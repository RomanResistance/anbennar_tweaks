namespace = bulwar_flavour

#Resettling Far Bulwar
province_event = {
	id =  bulwar_flavour.1
	title = bulwar_flavour.1.t
	desc = bulwar_flavour.1.d
	picture = COLONIZATION_eventPicture
	goto = root
	
	trigger = {
		region = far_bulwar_region
		NOT = {
			area = sareyand_area
			area = ardu_area
			area = garpix_zokka_area
			area = avamezan_area
		}
		owner = {
			NOT = { 
				culture_group = gnollish
			}
		}
		owner = {	#so if you're not monstrous or semi monstrous this event can fire for you
			OR = {
				NOT = { has_country_modifier = monstrous_nation }
				has_country_flag = semi_monstrous
			}
		}
		culture_group = gnollish
		NOT = { is_year = 1550 }
		
		OR = {
			AND = {
				
			}
			NOT = { development = 10 }
		}
	}


	mean_time_to_happen = {
		days = 730
		modifier = {
			factor = 0.25
			owner = { primary_culture = surani }
		}
		modifier = {
			factor = 0.5
			owner = { accepted_culture = surani }
		}
		modifier = {
			factor = 3
			OR = {
				has_terrain = desert
				has_terrain = mountain
			}
		}
	}

	option = {
		name = bulwar_flavour.1.a
		ai_chance = {
			factor = 1
		}
		
		if = {
			limit = {
				NOT = { development = 5 }
				OR = {
					has_terrain = desert
					has_terrain = mountain
				}
			}
			random_list = {
				1 = { add_base_tax = 1 }
				1 = { add_base_production = 1 }
				1 = { add_base_manpower = 1 }
			}
		}
		else_if = {
			limit = {
				NOT = { development = 10 }
			}
			random_list = {
				1 = { add_base_tax = 1 }
				1 = { add_base_production = 1 }
				1 = { add_base_manpower = 1 }
			}
			random_list = {
				1 = { add_base_tax = 2 }
				1 = { add_base_production = 2 }
				1 = { add_base_manpower = 2 }
			}
		}
		change_culture = surani
		if = {
			limit = { owner = { religion = the_jadd } }
			change_religion = the_jadd
		}
		else_if = {
			limit = { owner = { religion = old_bulwari_sun_cult } }
			change_religion = old_bulwari_sun_cult
		}
		else = {
			change_religion = bulwari_sun_cult
		}
		
		add_province_modifier = { name = add_unrest_5_modifier duration = 730 }
		add_devastation = 10
	}
	
	option = {
		name = bulwar_flavour.1.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 50
				low_tolerance_human_race_trigger = yes
			}
		}
		
		owner = {
			add_prestige = -5
		}
	}
}

#The Jadd in Re'uyel
country_event = {
	id =  bulwar_flavour.2
	title = bulwar_flavour.2.t
	desc = bulwar_flavour.2.d
	picture = NOBLE_ESTATE_eventPicture
	
	fire_only_once = yes
	
	trigger = { 
		tag = F18
	}

	mean_time_to_happen = {
		days = 3650
		modifier = {
			factor = 0.5
			is_year = 1460
		}
		modifier = {
			factor = 0.5
			any_enemy_country = {
				primary_culture = sun_elf
			}
		}
		modifier = {
			factor = 2
			any_ally = {
				primary_culture = sun_elf
			}
		}
	}
	
	#His view is much enlightening, have him tell us more
	option = {
		name = bulwar_flavour.2.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				any_enemy_country = {
					primary_culture = sun_elf
				}
			}
		}
		define_general = {
			name = "Camnaril of the Sands"
			shock = 5
			fire = 2
			manuever = 5
			siege = 3
			trait = hardy_warrior_personality
		}
		
		change_religion = the_jadd
		add_country_modifier = {
			name = "conversion_zeal"
			duration = 3650
		}
		
		every_country = {
			limit = { religion = the_jadd }
			add_opinion = { who = ROOT modifier = the_jadd_converted_to_jadd }
		}
		every_country = {
			limit = { religion = bulwari_sun_cult }
			add_opinion = { who = ROOT modifier = bulwari_converted_to_jadd }
		}
	}
	#Absolutely not!
	option = {
		name = bulwar_flavour.2.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				any_ally = {
					primary_culture = sun_elf
				}
			}
		}
		
		every_country = {
			limit = { religion = bulwari_sun_cult }
			add_opinion = { who = ROOT modifier = refused_conversion_to_jadd }
		}
	}
}

#A visit from a group of Jadd missionaries
country_event = {
	id =  bulwar_flavour.3
	title = bulwar_flavour.3.t
	desc = {
	   trigger = { NOT = { religion = bulwari_sun_cult } }
	   desc = bulwar_flavour.3.da
	}
	desc = {
	   trigger = { religion = bulwari_sun_cult }
	   desc = bulwar_flavour.3.db
	}
	picture = STREET_SPEECH_eventPicture
	
	trigger = {
		OR = {
			capital_scope = { OR = { superregion = bulwar_superregion region = rakhadesh_region region = rahen_coast_region } }
			has_global_flag = reformed_the_sun_cult
		}
		any_country = { religion = the_jadd knows_country = ROOT }
		NOT = { religion = the_jadd }
	}


	mean_time_to_happen = {
		days = 9125
		modifier = {
			factor = 5
			NOT = { religion = bulwari_sun_cult }
		}
		modifier = {
			factor = 2
			NOT = { superregion = bulwar_superregion }
		}
		modifier = {
			factor = 2
			culture = sun_elf
		}
		modifier = {
			factor = 0.5
			employed_advisor = { religion = the_jadd }
		}
	}

	option = { #Welcome them in!
		name = bulwar_flavour.3.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 5
				ruler_has_personality = tolerant_personality
			}
			modifier = {
				factor = 2
				OR = {
					ruler_has_personality = sinner_personality
					ruler_has_personality = free_thinker_personality
				}
			}
			modifier = {
				factor = 0
				OR = {
					ruler_has_personality = zealot_personality
					ruler_has_personality = pious_personality
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_reform = monastic_order_reform
					has_reform = leading_clergy_reform
					has_reform = rezankand_reform
					has_reform = oracular_order_reform
				}
			}
			modifier = {
				factor = 0
				has_country_modifier = conversion_zeal
				is_defender_of_faith = yes
			}
		}
		add_country_modifier = {
			name = jaddari_visiting_jaddari_missionaries
			duration = 3650
		}
		add_mil_power = 25
		
		hidden_effect = {
			country_event = {
				id =  bulwar_flavour.12
				days = 3600
			}
		}
	}
	
	option = { #We won't have that here!
		name = bulwar_flavour.3.b
		ai_chance = {
			factor = 16
			modifier = {
				factor = 2
				ruler_has_personality = strict_personality
			}
			modifier = {
				factor = 2
				any_rival_country = { religion = the_jadd }
			}
			modifier = {
				factor = 5
				ruler_culture = sun_elf
			}
		}
		add_prestige = 10
	}
}

#Jadd minorities are welcomed within the Jadd
province_event = {
	id =  bulwar_flavour.4
	title = bulwar_flavour.4.t
	desc = {
	   trigger = { NOT = { religion = bulwari_sun_cult } }
	   desc = bulwar_flavour.4.d
	}
	picture = EUROPEAN_REFUGEES_eventPicture
	goto = root
	
	trigger = {
		religion = the_jadd
		owner = { religion = the_jadd }
		has_any_oppressed_minority_trigger = yes
	}


	mean_time_to_happen = {
		days = 18250
		modifier = {
			factor = 0.5
			NOT = { unrest = 0 }
		}
		modifier = {
			factor = 10
			unrest = 5
		}
	}
	is_mtth_scaled_to_size = 1

	option = { #We welcome the faithful
		name = bulwar_flavour.4.a
		ai_chance = {
			factor = 1
		}
		if = {
			limit = { has_oppressed_dwarven_minority_trigger = yes }
			owner = { small_increase_of_dwarven_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_elven_minority_trigger = yes }
			owner = { small_increase_of_elven_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_halfling_minority_trigger = yes }
			owner = { small_increase_of_halfling_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_gnomish_minority_trigger = yes }
			owner = { small_increase_of_gnomish_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_half_orcish_minority_trigger = yes }
			owner = { small_increase_of_half_orcish_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_kobold_minority_trigger = yes }
			owner = { small_increase_of_kobold_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_orcish_minority_trigger = yes }
			owner = { small_increase_of_orcish_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_human_minority_trigger = yes }
			owner = { small_increase_of_human_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_gnollish_minority_trigger = yes }
			owner = { small_increase_of_gnollish_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_ruinborn_minority_trigger = yes }
			owner = { small_increase_of_ruinborn_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_goblin_minority_trigger = yes }
			owner = { small_increase_of_goblin_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_harpy_minority_trigger = yes }
			owner = { small_increase_of_harpy_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_troll_minority_trigger = yes }
			owner = { small_increase_of_troll_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_half_elven_minority_trigger = yes }
			owner = { small_increase_of_half_elven_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_ogre_minority_trigger = yes }
			owner = { small_increase_of_ogre_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_harimari_minority_trigger = yes }
			owner = { small_increase_of_harimari_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_centaur_minority_trigger = yes }
			owner = { small_increase_of_centaur_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_oppressed_hobgoblin_minority_trigger = yes }
			owner = { small_increase_of_hobgoblin_tolerance_effect = yes }
		}
	}
}

#Jadd minority groups outmaneuvred
province_event = {
	id =  bulwar_flavour.5
	title = bulwar_flavour.5.t
	desc = bulwar_flavour.5.d
	picture = ANGRY_MOB_eventPicture
	goto = root
	
	trigger = {
		religion = the_jadd
		owner = { religion = the_jadd }
		has_any_integrated_minority_trigger = yes
	}

	mean_time_to_happen = {
		days = 18250
		modifier = {
			factor = 0.5
			unrest = 5
		}
		modifier = {
			factor = 0.5
			has_seat_in_parliament = yes
		}
	}
	is_mtth_scaled_to_size = 1

	option = { #Unfortunate
		name = bulwar_flavour.5.a
		ai_chance = {
			factor = 1
		}
		if = {
			limit = { has_integrated_dwarven_minority_trigger = yes }
			owner = { small_decrease_of_dwarven_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_elven_minority_trigger = yes }
			owner = { small_decrease_of_elven_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_halfling_minority_trigger = yes }
			owner = { small_decrease_of_halfling_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_gnomish_minority_trigger = yes }
			owner = { small_decrease_of_gnomish_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_half_orcish_minority_trigger = yes }
			owner = { small_decrease_of_half_orcish_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_kobold_minority_trigger = yes }
			owner = { small_decrease_of_kobold_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_orcish_minority_trigger = yes }
			owner = { small_decrease_of_orcish_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_human_minority_trigger = yes }
			owner = { small_decrease_of_human_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_gnollish_minority_trigger = yes }
			owner = { small_decrease_of_gnollish_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_ruinborn_minority_trigger = yes }
			owner = { small_decrease_of_ruinborn_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_goblin_minority_trigger = yes }
			owner = { small_decrease_of_goblin_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_harpy_minority_trigger = yes }
			owner = { small_decrease_of_harpy_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_troll_minority_trigger = yes }
			owner = { small_decrease_of_troll_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_half_elven_minority_trigger = yes }
			owner = { small_decrease_of_half_elven_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_ogre_minority_trigger = yes }
			owner = { small_decrease_of_ogre_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_harimari_minority_trigger = yes }
			owner = { small_decrease_of_harimari_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_centaur_minority_trigger = yes }
			owner = { small_decrease_of_centaur_tolerance_effect = yes }
		}
		else_if = {
			limit = { has_integrated_hobgoblin_minority_trigger = yes }
			owner = { small_decrease_of_hobgoblin_tolerance_effect = yes }
		}
	}
	
	option = { #We won't let that happen
		name = bulwar_flavour.5.b
		ai_chance = {
			factor = 1
		}
		owner = { add_adm_power = -50 }
	}
}

#Gain Jadd military advisor
country_event = {
	id =  bulwar_flavour.6
	title = bulwar_flavour.6.t
	desc = bulwar_flavour.6.d
	picture = NOBLE_ESTATE_eventPicture
	
	trigger = {
		OR = {
			capital_scope = { OR = { superregion = bulwar_superregion region = rakhadesh_region region = rahen_coast_region } }
			has_global_flag = reformed_the_sun_cult
		}
		NOT = { tag = F46 }
		exists = F46
	}

	mean_time_to_happen = {
		days = 7300
		modifier = {
			factor = 10
			NOT = { religion = bulwari_sun_cult }
		}
		modifier = {
			factor = 5
			primary_culture = sun_elf
		}
	}
	
	immediate = {
		hidden_effect = {
			set_saved_name = {
				key = jadd_commander_name
				type = advisor
				#scope = F46 #this doesn't actually work
			}
		}
	}

	option = { #They could be useful, welcome them in.
		name = bulwar_flavour.6.a
		ai_chance = {
			factor = 1
		}
		define_advisor = {
			type = commandant
			name = jadd_commander_name
			skill = 2
			discount = yes
			culture = desert_elf
			religion = the_jadd
		}
	}
	
	option = { #Interesting. Dismissed.
		name = bulwar_flavour.6.b
		ai_chance = {
			factor = 1
		}
		add_prestige = 10
	}
}

#A festival for Surael of the Jadd
country_event = {
	id =  bulwar_flavour.7
	title = bulwar_flavour.7.t
	desc = bulwar_flavour.7.d
	picture = FEAST_eventPicture
	
	trigger = {
		religion = the_jadd
	}

	mean_time_to_happen = {
		days = 7300
	}

	option = { #Throw the largest celebration
		name = bulwar_flavour.7.a
		ai_chance = {
			factor = 1
		}
		add_stability_or_adm_power = yes
		add_prestige = 20
		increase_legitimacy_large_effect = yes
		add_years_of_income = -0.5
	}

	option = { #Keep the celebration modest
		name = bulwar_flavour.7.b
		ai_chance = {
			factor = 1
		}
		increase_legitimacy_medium_effect = yes
		add_prestige = 10
		add_years_of_income = -0.2
	}
	
	option = { #Have the people organise it themselves
		name = bulwar_flavour.7.c
		ai_chance = {
			factor = 1
		}
		add_prestige = -10
	}
}

#Divine Inspiration!
country_event = {
	id =  bulwar_flavour.8
	title = bulwar_flavour.8.t
	desc = bulwar_flavour.8.d
	picture = STREET_SPEECH_eventPicture
	
	trigger = {
		religion = the_jadd
	}

	mean_time_to_happen = {
		days = 18250
		modifier = {
			factor = 0.5
			is_at_war = yes
		}
		modifier = {
			factor = 0.5
			estate_loyalty = {
				estate = estate_church
				loyalty = 60
			}
		}
	}

	option = { #May Surael blind our enemies!
		name = bulwar_flavour.8.a
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = the_jadd_divine_inspiration
			duration = 1825
		}
	}
}

#Violence against Religious Minorities in [ROOT.GetName]
province_event = {
	id =  bulwar_flavour.9
	title = bulwar_flavour.9.t
	desc = bulwar_flavour.9.d
	picture = ANGRY_MOB_eventPicture
	goto = root
	
	trigger = {
		NOT = { religion = the_jadd }
		owner = { religion = the_jadd }
		owner = { NOT = { any_owned_province = { OR = { has_province_modifier = jaddari_religious_massacre has_province_modifier = religious_violence } } } }
	}

	mean_time_to_happen = {
		days = 18250
		modifier = {
			factor = 0.5
			unrest = 5
		}
	}

	option = { #They deserve it
		name = bulwar_flavour.9.a
		ai_chance = {
			factor = 1
		}
		add_province_modifier = {
			name = jaddari_religious_massacre
			duration = 3650
		}
		add_devastation = 20
		random_list = {
			10 = { add_base_manpower = -1 }
			10 = { add_base_production = -1 }
			10 = { add_base_tax = -1 }
			20 = {  }
		}
	}
	
	option = { #Interfere
		name = bulwar_flavour.9.b
		ai_chance = {
			factor = 1
		}
		add_province_modifier = {
			name = religious_violence
			duration = 3650
		}
		owner = { add_adm_power = -50 }
	}
}

#The People of [ROOT.GetName] See the Light!
province_event = {
	id =  bulwar_flavour.10
	title = bulwar_flavour.10.t
	desc = bulwar_flavour.10.d
	picture = STREET_SPEECH_eventPicture
	goto = root
	
	trigger = {
		NOT = { religion = the_jadd }
		owner = { religion = the_jadd }
		NOT = { has_any_oppressed_pop_trigger = yes }
	}

	mean_time_to_happen = {
		days = 18250
		modifier = {
			factor = 0.5
			owner = { ai = yes }
		}
		modifier = {
			factor = 0.5
			religion = bulwari_sun_cult
			NOT = { culture = sun_elf }
		}
	}

	option = { #Welcome to the arms of truth!
		name = bulwar_flavour.10.a
		ai_chance = {
			factor = 1
		}
		change_religion = the_jadd
	}
}

#The People of [ROOT.GetName] embrace the Jadd
province_event = {
	id =  bulwar_flavour.11
	title = bulwar_flavour.11.t
	desc = bulwar_flavour.11.d
	picture = STREET_SPEECH_eventPicture
	goto = root
	
	trigger = {
		NOT = { religion = the_jadd }
		owner = { has_country_modifier = jaddari_visiting_jaddari_missionaries }
	}

	mean_time_to_happen = {
		days = 730
		modifier = {
			factor = 0.5
			religion = bulwari_sun_cult
		}
		modifier = {
			factor = 5
			culture = sun_elf
		}
	}
	is_mtth_scaled_to_size = 1
	
	option = { #That's not what I wanted!
		name = bulwar_flavour.11.a
		ai_chance = {
			factor = 2
			modifier = {
				factor = 5
				culture = sun_elf
				religion = bulwari_sun_cult
			}
			modifier = {
				factor = 0.5
				NOT = { culture = sun_elf }
				religion = bulwari_sun_cult
			}
			modifier = {
				factor = 3
				owner = { ruler_has_personality = malevolent_personality }
			}
			modifier = {
				factor = 3
				owner = { ruler_has_personality = strict_personality }
			}
			modifier = {
				factor = 20
				owner = { ruler_has_personality = zealot_personality }
			}
			modifier = {
				factor = 20
				owner = { ruler_has_personality = pious_personality }
			}
		}
		change_religion = the_jadd
		add_permanent_province_modifier = {
			name = religious_zeal_at_conv 
			duration = 3650
		}
		owner = { remove_country_modifier = jaddari_visiting_jaddari_missionaries }
	}

	option = { #This was to be expected
		name = bulwar_flavour.11.b
		ai_chance = {
			factor = 5
			modifier = {
				factor = 3
				owner = { ruler_has_personality = tolerant_personality }
			}
			modifier = {
				factor = 3
				owner = { ruler_has_personality = free_thinker_personality }
			}
			modifier = {
				factor = 2
				owner = { ruler_has_personality = sinner_personality }
			}
			modifier = {
				factor = 0
				owner = {
					num_of_religion = {
						religion = the_jadd
						value = 0.9
					}
				}
			}
		}
		change_religion = the_jadd
		add_permanent_province_modifier = {
			name = religious_zeal_at_conv 
			duration = 3650
		}
	}

	option = { #They're really onto something!
		name = bulwar_flavour.11.c
		trigger = {
			owner = { dominant_religion = the_jadd }
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				owner = { ruler_has_personality = zealot_personality }
			}
			modifier = {
				factor = 0
				owner = { ruler_has_personality = pious_personality }
			}
			modifier = {
				factor = 40
				owner = {
					num_of_religion = {
						religion = the_jadd
						value = 0.9
					}
				}
			}
		}
		change_religion = the_jadd
		add_permanent_province_modifier = {
			name = religious_zeal_at_conv
			duration = 3650
		}
		owner = {
			change_religion = the_jadd
			reduce_stability_or_adm_power = yes
		}
	}
}

#We've beel converted?
country_event = {
	id =  bulwar_flavour.12
	title = bulwar_flavour.12.t
	desc = bulwar_flavour.12.d
	picture = STREET_SPEECH_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { religion = the_jadd }
		has_country_modifier = jaddari_visiting_jaddari_missionaries
		num_of_religion = { religion = the_jadd value = 0.99 }
	}

	option = { #Let us embrace the Light of the Jadd
		name = bulwar_flavour.12.a
		ai_chance = {
			factor = 2
			modifier = {
				factor = 2
				ruler_has_personality = sinner_personality
			}
		}
		
		change_religion = the_jadd
		remove_country_modifier = jaddari_visiting_jaddari_missionaries
	}
	option = { #Let the people believe what they want
		name = bulwar_flavour.12.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 5
				ruler_has_personality = tolerant_personality
			}
		}
		
		add_country_modifier = {
			name = tolerance_for_all
			duration = 3650
		}
		remove_country_modifier = jaddari_visiting_jaddari_missionaries
	}
	option = { #We must destroy this horror! Get it out of my lands!
		name = bulwar_flavour.12.c
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				ruler_has_personality = zealot_personality
			}
			modifier = {
				factor = 10
				ruler_has_personality = pious_personality
			}
		}
		
		add_country_modifier = {
			name = convert_heretics
			duration = 3650
		}
		remove_country_modifier = jaddari_visiting_jaddari_missionaries
	}
}
#The Renaissance in Brasan
country_event = {
	id =  bulwar_flavour.13
	title = bulwar_flavour.13.t
	desc = bulwar_flavour.13.d
	picture = SHIP_SAILING_eventPicture
    
    fire_only_once = yes

    mean_time_to_happen = { 
        days = 200
        }
    trigger = {
        is_year = 1470
        is_institution_enabled = renaissance
        owns = 565
        }
        
    option = { #This can only be good
        name = bulwar_flavour.13.a
        565 = {
			add_institution_embracement = {
				which = renaissance
				value = 100
            }
        }
    }
}

# completion of dredging operations
country_event = {
	id =  bulwar_flavour.14
	title = bulwar_flavour.14.t
	desc = bulwar_flavour.14.d
	picture = SMUGGLERS_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes

    trigger = {
        601 = { has_province_modifier = old_bulwari_canals }
        owns = 601
    }
    option = { #This can only be good
        name = bulwar_flavour.14.a
        601 = {
			remove_province_modifier = old_bulwari_canals
            add_permanent_province_modifier = {
                name = bulwari_canals
                duration = -1
            }
        }
    }
}

# completion of locks and lifts
country_event = {
	id =  bulwar_flavour.15
	title = bulwar_flavour.15.t
	desc = bulwar_flavour.15.d
	picture = HARBOUR_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes

    trigger = {
        601 = { has_province_modifier = bulwari_canals }
        owns = 601
    }
    option = { #This can only be good
        name = bulwar_flavour.15.a
        601 = {
			remove_province_modifier = bulwari_canals
            add_permanent_province_modifier = {
                name = bulwari_locks_and_lifts
                duration = -1
            }
        }
    }
}

# completion of great bulwari watercourse
country_event = {
	id =  bulwar_flavour.16
	title = bulwar_flavour.16.t
	desc = bulwar_flavour.16.d
	picture = GREAT_BUILDING_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes

    trigger = {
        601 = { has_province_modifier = bulwari_locks_and_lifts }
        owns = 601
    }
    option = { #This can only be good
        name = bulwar_flavour.16.a
        601 = {
			remove_province_modifier = bulwari_locks_and_lifts
            add_permanent_province_modifier = {
                name = great_bulwari_watercourse
                duration = -1
            }
        }
    }
}

# flavour events for dredging
# we find an object in the mud
country_event = {
	id =  bulwar_flavour.17
	title = bulwar_flavour.17.t
	desc = bulwar_flavour.17.d
	picture = ARTWORK_eventPicture
	goto = 601
	
	fire_only_once = yes

    mean_time_to_happen = { 
        days = 300
        }
    trigger = {
        601 = { 
            has_province_modifier = old_bulwari_canals 
            has_construction = bulwari_canals
        }
        owns = 601
        }
    option = {
        name = bulwar_flavour.17.a
        # sell if for gold
        add_treasury = 300
        }
    option = {
        name = bulwar_flavour.17.b
        # donate to museum
        add_prestige = 20
        }
}

# flavour events for dredging
# we find a skeleton
country_event = {
	id =  bulwar_flavour.18
	title = bulwar_flavour.18.t
	desc = bulwar_flavour.18.d
	picture = WOUNDED_SOLDIERS_eventPicture
	goto = 601
	
	fire_only_once = yes

    mean_time_to_happen = { 
        days = 600
        }
    trigger = {
        601 = { 
            has_province_modifier = old_bulwari_canals 
            has_construction = bulwari_canals
        }
        owns = 601
        }
    option = {
        name = bulwar_flavour.18.a
        }
}

# flavour events for dredging
# some critters to fight/avoid
country_event = {
	id =  bulwar_flavour.19
	title = bulwar_flavour.19.t
	desc = bulwar_flavour.19.d
	picture = CITY_DEVELOPMENT_eventPicture
	goto = 601
	
	fire_only_once = yes

    mean_time_to_happen = { 
        days = 450
    }
    trigger = {
        601 = { 
            has_province_modifier = old_bulwari_canals 
            has_construction = bulwari_canals
        }
        owns = 601
	}
    option = {
        name = bulwar_flavour.19.a
		ai_chance = { factor = 50 }
        # pay some adventurers
        add_treasury = -100
		add_estate_influence_modifier = {
			estate = estate_adventurers
			desc = bulwari_canals_adventurer_influence_critters
			duration = 365
			influence = 5
		}
	}
    # when we have monstor system in place, use that here
    #option = {
    #    name = bulwar_flavour.19.b
	#	ai_chance = { factor = 50 }
    #    # flush the critters out; generic rebel monsters
    #    # these guys are supposed to be small; they will pause construction while
    #    # they are attempting to seige this province; that is their only purposes
    #    601 = {
    #        spawn_rebels = {
    #                type = critters
    #                culture = critters
    #                size = 0.2
    #            }
    #        }
    #}
    option = {
        name = bulwar_flavour.19.c
        # peasants of no concern
        # TODO: once monster system is implemented, change this to add monsters to province
		reduce_stability_or_adm_power = yes
	}
}

# hire advisor to aid construction
country_event = {
	id =  bulwar_flavour.20
	title = bulwar_flavour.20.t
	desc = bulwar_flavour.20.d
	picture = INVENTION_eventPicture
	goto = 601
	
	fire_only_once = yes

    mean_time_to_happen = { 
        days = 10
    }
    trigger = {
        601 = { 
            has_province_modifier = bulwari_canals 
            has_construction = bulwari_locks_and_lifts
        }
        owns = 601
    }
    option = {
        name = bulwar_flavour.20.a
        ai_chance = { factor = 10 }
		define_advisor = {
			type = natural_scientist
			skill = 2
			culture = imperial_gnome
			religion = regent_court
			location = 601
            cost_multiplier = 0.75
		}
        add_treasury = -100
		hidden_effect = { 601 = { change_variable = { cons_prog = 0.05 } } }
		tooltip = { 601 = { add_construction_progress = 0.10 } }
		#601 = { add_construction_progress = 0.10 }
    }
    option = {
        # hire a dwarf! requires good relations with a dwarven country
        # or a dwarven accepted culture
        name = bulwar_flavour.20.b
        ai_chance = { factor = 20 }
        trigger = {
            NOT = { ruler_has_personality = fierce_negotiator_personality }
        }
		define_advisor = {
			type = natural_scientist
			skill = 3
			culture = citrine_dwarf
			religion = ancestor_worship
			location = 601
            cost_multiplier = 0.5
		}
        add_treasury = -200
		hidden_effect = { 601 = { change_variable = { cons_prog = 0.125 } } }
		tooltip = { 601 = { add_construction_progress = 0.25 } }
		#601 = { add_construction_progress = 0.25 }
    }
    option = {
        # hire a dwarf! requires good relations with a dwarven country
        # or a dwarven accepted culture
        name = bulwar_flavour.20.b
        highlight = yes
        ai_chance = { factor = 50 }
        trigger = {
            ruler_has_personality = fierce_negotiator_personality
        }
		define_advisor = {
			type = natural_scientist
			skill = 3
			culture = citrine_dwarf
			religion = ancestor_worship
			location = 601
            cost_multiplier = 0.25
		}
        add_treasury = -100
		hidden_effect = { 601 = { change_variable = { cons_prog = 0.125 } } }
		tooltip = { 601 = { add_construction_progress = 0.25 } }
		#601 = { add_construction_progress = 0.25 }
    }
    option = {
        # hire a local craftsman
        name = bulwar_flavour.20.c
        ai_chance = { factor = 20 }
		hidden_effect = { 601 = { change_variable = { cons_prog = -0.125 } } }
		tooltip = { 601 = { add_construction_progress = 0.-25 } }
		#601 = { add_construction_progress = -0.25 }
    }
    option = { 
        # do it ourselves, if we're competent
        name = bulwar_flavour.20.e
        ai_chance = { factor = 50 }
        highlight = yes
        trigger = {
            OR = {
                ruler_has_personality = architectural_visionary_personality
                ruler_has_personality = scholar_personality 
                }
        }
		hidden_effect = { 601 = { change_variable = { cons_prog = 0.05 } } }
		tooltip = { 601 = { add_construction_progress = 0.10 } }		
		#601 = { add_construction_progress = 0.10 }
    }
}

# great technological boom
# either the ruler is awesome, or they hired a natural scientist 
# hopefully from previous event
country_event = {
	id =  bulwar_flavour.21
	title = bulwar_flavour.21.t
	desc = bulwar_flavour.21.d
	picture = INVENTION_eventPicture
	goto = 601
	
	fire_only_once = yes

    mean_time_to_happen = { 
        days = 100
    }
    trigger = {
        601 = { 
            has_province_modifier = bulwari_canals 
            has_construction = bulwari_locks_and_lifts            
            OR = {
                ruler_has_personality = architectural_visionary_personality
                ruler_has_personality = scholar_personality
                employed_advisor = {
                    type = natural_scientist
                    }
                }
        }
        owns = 601
    }
    option = {
        name = bulwar_flavour.21.a
        601 = {
            add_province_modifier = { 
                name = bulwari_tech_boom
                duration = 7000 # about 20 years
                desc = bulwari_tech_boom_tooltip
            }
        }
    }
}

# hire a workforce
country_event = {
	id =  bulwar_flavour.22
	title = bulwar_flavour.22.t
	desc = bulwar_flavour.22.d
	picture = CITY_DEVELOPMENT_eventPicture
	goto = 601
	
	fire_only_once = yes

    mean_time_to_happen = { 
        days = 200
    }
    trigger = {
        601 = { 
            OR = {
                has_construction = bulwari_canals
                has_construction = bulwari_locks_and_lifts    
                has_construction = great_bulwari_watercourse
            }
        }
        owns = 601
    }
    option = {
        # use local workforce
        name = bulwar_flavour.22.a
        ai_chance = {
			factor = 1
		}
        #601 = { add_construction_progress = -0.25 }
		hidden_effect = { 601 = { change_variable = { cons_prog = -0.125 } } }
		tooltip = { 601 = { add_construction_progress = -0.25 } }
    }
    option = {
        # import dwarf labour, to the annoyance of the locals
        name = bulwar_flavour.22.b
        ai_chance = {
			factor = 10
		}
        601 = { add_dwarven_minority_size_effect = yes }
        # small_decrease_of_dwarven_tolerance_effect = yes # taking our jerbs
        hidden_effect = { 601 = { change_variable = { cons_prog = 0.125 } } }
		tooltip = { 601 = { add_construction_progress = 0.25 } }
		#601 = { add_construction_progress = 0.25 }
    }
    option = {
        # use slaves
        ai_chance = {
			factor = 5
		}
        name = bulwar_flavour.22.c
        trigger = {
            any_owned_province = {
                trade_goods = slaves
                }
            }
        add_treasury = -100
		
		hidden_effect = { 601 = { change_variable = { cons_prog = 0.125 } } }
		tooltip = { 601 = { add_construction_progress = 0.25 } }
        #601 = { add_construction_progress = 0.25 } #Does not work
    }
}

# how are we treating our imported workers?
country_event = {
	id =  bulwar_flavour.23
	title = bulwar_flavour.23.t
	desc = bulwar_flavour.23.d
	picture = ANGRY_MOB_eventPicture
	goto = 601
	
	fire_only_once = yes

    mean_time_to_happen = { 
        months = 24
    }
    trigger = {
        601 = { 
            OR = {
                has_province_modifier = bulwari_canals
                has_province_modifier = bulwari_locks_and_lifts
                has_province_modifier = great_bulwari_watercourse
            }
            has_any_dwarven_pop_trigger = yes
        }
        owns = 601
    }
    option = {
        # treat them well
        name = bulwar_flavour.23.a
        small_increase_of_dwarven_tolerance_effect = yes # new friends
    }
    option = {
        # treat them poorly
        name = bulwar_flavour.23.b
        small_decrease_of_dwarven_tolerance_effect = yes # taking our jerbs
    }
}

# Canal menu
country_event = {
	id =  bulwar_flavour.24
	title = bulwar_flavour.24.t
	desc = bulwar_flavour.24.d
	picture = CITY_DEVELOPMENT_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { set_country_flag = digging_canals_menu }
	}
	
	option = {
		name = bulwar_flavour.24.a
		trigger = { 601 = { has_province_modifier = old_bulwari_canals } }
		add_treasury = -500
		601 = {
			add_building_construction = {
				building = bulwari_canals
				speed = 1
				cost = 1
			}
			
			hidden_effect = { # Used to allow building events
				set_variable = {
					which = cons_prog 
					value = 0.5
				}
			}
		}
		ai_chance = {
				factor = 1
		}
	}
	option = {
		name = bulwar_flavour.24.b
		trigger = { 601 = { has_province_modifier = bulwari_canals } }
		add_treasury = -1000
		601 = {
			add_building_construction = {
				building = bulwari_locks_and_lifts
				speed = 1
				cost = 1
			}
			hidden_effect = { set_variable = { cons_prog = 0.5 } }
		}
		ai_chance = {
			factor = 1
		}
	}
	option = {
		name = bulwar_flavour.24.c
		trigger = { 601 = { has_province_modifier = bulwari_locks_and_lifts } }
			add_treasury = -1500
			601 = {
			add_building_construction = {
				building = great_bulwari_watercourse
				speed = 1
				cost = 1
			}
			hidden_effect = { set_variable = { cons_prog = 0.5 } }
		}
		ai_chance = {
			factor = 1
		}
	}
	
	option = {
		name = bulwar_flavour.24.e
		ai_chance = {
			factor = 0
		}
	}
	
	after = {
		clr_country_flag = digging_canals_menu
	}
}

#construction check
province_event = {
	id = bulwar_flavour.25
	title = bulwar_flavour.25.t
	desc = bulwar_flavour.25.d
	picture = FORT_eventPicture
	
	hidden = yes
	
	trigger = {
		OR = {
			has_construction = bulwari_canals
			has_construction = bulwari_locks_and_lifts
			has_construction = great_bulwari_watercourse
		}
		if = { limit = { construction_progress = 0.50 }
			if = { limit = { construction_progress = 0.75 }
				if = { limit = { construction_progress = 0.87 }
					if = { limit = { construction_progress = 0.93 }
						if = { limit = { construction_progress = 0.96 }
							if = { limit = { construction_progress = 0.98 }
								check_variable = { cons_prog = 0.02 }
							}
							else = {
								check_variable = { cons_prog = 0.04 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.95 }
								check_variable = { cons_prog = 0.05 }
							}
							else = {
								check_variable = { cons_prog = 0.07 }
							}
						}
					}
					else = {
						if = { limit = { construction_progress = 0.90 }
							if = { limit = { construction_progress = 0.92 }
								check_variable = { cons_prog = 0.08 }
							}
							else = {
								check_variable = { cons_prog = 0.10 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.89 }
								check_variable = { cons_prog = 0.11 }
							}
							else = {
								check_variable = { cons_prog = 0.13 }
							}
						}
					}
				}
				else = {
					if = { limit = { construction_progress = 0.81 }
						if = { limit = { construction_progress = 0.84 }
							if = { limit = { construction_progress = 0.85 }
								check_variable = { cons_prog = 0.15 }
							}
							else = {
								check_variable = { cons_prog = 0.16 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.82 }
								check_variable = { cons_prog = 0.18 }
							}
							else = {
								check_variable = { cons_prog = 0.19 }
							}
						}
					}
					else = {
						if = { limit = { construction_progress = 0.78 }
							if = { limit = { construction_progress = 0.79 }
								check_variable = { cons_prog = 0.21 }
							}
							else = {
								check_variable = { cons_prog = 0.22 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.76 }
								check_variable = { cons_prog = 0.24 }
							}
							else = {
								check_variable = { cons_prog = 0.25 }
							}
						}
					}
				}
			}
			else = {
				if = { limit = { construction_progress = 0.62 }
					if = { limit = { construction_progress = 0.68 }
						if = { limit = { construction_progress = 0.71 }
							if = { limit = { construction_progress = 0.73 }
								check_variable = { cons_prog = 0.27 }
							}
							else = {
								check_variable = { cons_prog = 0.29 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.70 }
								check_variable = { cons_prog = 0.30 }
							}
							else = {
								check_variable = { cons_prog = 0.32 }
							}
						}
					}
					else = {
						if = { limit = { construction_progress = 0.65 }
							if = { limit = { construction_progress = 0.67 }
								check_variable = { cons_prog = 0.33 }
							}
							else = {
								check_variable = { cons_prog = 0.35 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.64 }
								check_variable = { cons_prog = 0.36 }
							}
							else = {
								check_variable = { cons_prog = 0.38 }
							}
						}
					}
				}
				else = {
					if = { limit = { construction_progress = 0.56 }
						if = { limit = { construction_progress = 0.59 }
							if = { limit = { construction_progress = 0.60 }
								check_variable = { cons_prog = 0.40 }
							}
							else = {
								check_variable = { cons_prog = 0.41 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.57 }
								check_variable = { cons_prog = 0.43 }
							}
							else = {
								check_variable = { cons_prog = 0.44 }
							}
						}
					}
					else = {
						if = { limit = { construction_progress = 0.53 }
							if = { limit = { construction_progress = 0.54 }
								check_variable = { cons_prog = 0.46 }
							}
							else = {
								check_variable = { cons_prog = 0.47 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.51 }
								check_variable = { cons_prog = 0.49 }
							}
							else = {
								check_variable = { cons_prog = 0.50 }
							}
						}
					}
				}
			}
		}
		else = {
			if = { limit = { construction_progress = 0.25 }
				if = { limit = { construction_progress = 0.37 }
					if = { limit = { construction_progress = 0.43 }
						if = { limit = { construction_progress = 0.46 }
							if = { limit = { construction_progress = 0.48 }
								check_variable = { cons_prog = 0.52 }
							}
							else = {
								check_variable = { cons_prog = 0.54 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.45 }
								check_variable = { cons_prog = 0.55 }
							}
							else = {
								check_variable = { cons_prog = 0.57 }
							}
						}
					}
					else = {
						if = { limit = { construction_progress = 0.40 }
							if = { limit = { construction_progress = 0.42 }
								check_variable = { cons_prog = 0.58 }
							}
							else = {
								check_variable = { cons_prog = 0.60 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.39 }
								check_variable = { cons_prog = 0.61 }
							}
							else = {
								check_variable = { cons_prog = 0.63 }
							}
						}
					}
				}
				else = {
					if = { limit = { construction_progress = 0.31 }
						if = { limit = { construction_progress = 0.34 }
							if = { limit = { construction_progress = 0.35 }
								check_variable = { cons_prog = 0.65 }
							}
							else = {
								check_variable = { cons_prog = 0.66 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.32 }
								check_variable = { cons_prog = 0.68 }
							}
							else = {
								check_variable = { cons_prog = 0.69 }
							}
						}
					}
					else = {
						if = { limit = { construction_progress = 0.28 }
							if = { limit = { construction_progress = 0.29 }
								check_variable = { cons_prog = 0.71 }
							}
							else = {
								check_variable = { cons_prog = 0.72 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.26 }
								check_variable = { cons_prog = 0.74 }
							}
							else = {
								check_variable = { cons_prog = 0.75 }
							}
						}
					}
				}
			}
			else = {
				if = { limit = { construction_progress = 0.12 }
					if = { limit = { construction_progress = 0.18 }
						if = { limit = { construction_progress = 0.21 }
							if = { limit = { construction_progress = 0.23 }
								check_variable = { cons_prog = 0.77 }
							}
							else = {
								check_variable = { cons_prog = 0.79 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.20 }
								check_variable = { cons_prog = 0.80 }
							}
							else = {
								check_variable = { cons_prog = 0.82 }
							}
						}
					}
					else = {
						if = { limit = { construction_progress = 0.15 }
							if = { limit = { construction_progress = 0.17 }
								check_variable = { cons_prog = 0.83 }
							}
							else = {
								check_variable = { cons_prog = 0.85 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.14 }
								check_variable = { cons_prog = 0.86 }
							}
							else = {
								check_variable = { cons_prog = 0.88 }
							}
						}
					}
				}
				else = {
					if = { limit = { construction_progress = 0.06 }
						if = { limit = { construction_progress = 0.09 }
							if = { limit = { construction_progress = 0.10 }
								check_variable = { cons_prog = 0.90 }
							}
							else = {
								check_variable = { cons_prog = 0.91 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.07 }
								check_variable = { cons_prog = 0.93 }
							}
							else = {
								check_variable = { cons_prog = 0.94 }
							}
						}
					}
					else = {
						if = { limit = { construction_progress = 0.03 }
							if = { limit = { construction_progress = 0.04 }
								check_variable = { cons_prog = 0.96 }
							}
							else = {
								check_variable = { cons_prog = 0.97 }
							}
						}
						else = {
							if = { limit = { construction_progress = 0.01 }
								check_variable = { cons_prog = 0.99 }
							}
							else = {
								check_variable = { cons_prog = 1.00 }
							}
						}
					}
				}
			}
		}
		#variable_arithmetic_trigger = {
		#	export_to_variable = {
		#		which = cProgress
		#		value = trigger_value:construction_progress
		#	}
		#	change_variable = {
		#		which = cProgress
		#		which = cons_prog
		#	}
		#	check_variable = {
		#		cProgress = 1
		#	}
		#}
	}
	
	option = {
        trigger = { 601 = { has_construction = bulwari_canals } }
		
		cancel_construction = yes
		add_building = bulwari_canals
	}
	option = {
        trigger = { 601 = { has_construction = bulwari_locks_and_lifts } }
		
		cancel_construction = yes
		add_building = bulwari_locks_and_lifts
	}
	option = {
        trigger = { 601 = { has_construction = great_bulwari_watercourse } }
		
		cancel_construction = yes
		add_building = great_bulwari_watercourse
	}
}	
